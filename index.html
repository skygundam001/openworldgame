<html>
   <head>
      <meta charset = "utf-8">
	  <style type = "text/css">
	  div{overflow:auto;
		position:relative;
	  }
	  div{
		
		font-size:50px;
	  }
	  p {font-size:30px;
		
		text-align:center;
	  }
	  </style>
      <script type = "text/javascript">//font-family:Calibri;
	  var nwindow=document.getElementById("gs");
	  
			
	  var aa= [];
	  aa[0]=new CE('小刀',5,0,0,0);
	  aa[1]=new CE('鐵劍',50,0,0,0);
	  
	  var dd=[];
	  dd[0]=new CE('衣服',0,5,0,0);
	  dd[1]=new CE('皮革裝',0,10,0,0);
	  dd[2]=new CE('鐵盔甲',0,30,0,0);
	  
	  var commodity=[];
	  commodity[0]=new CMV('食物',50,10);
	  commodity[1]=new CMV('血瓶',100,10);
	  commodity[2]=new CMV('魔瓶',100,10);
	  
	  var monster=[];
	  monster[0]=new character('野獸',50,50,1,0,0,0,aa[0],dd[0]);
	  
	  var j=new character('不知名勇者',100,100,1,0,10,10,aa[0],dd[0]);
	  var cmdm=[];//commoditymoney
		cmdm[0]=commodity[0].moneyvalue;
		cmdm[1]=commodity[1].moneyvalue;
		cmdm[2]=commodity[2].moneyvalue;
	  
	  
		function CE(name,AH,DAH,ADDH,ADDM){
			this.name=name;
			this.AH=AH;
			this.DAH=DAH;
			this.ADDH=ADDH;
			this.ADDM=ADDM;
		}//characterequipment
		function CMV(name,moneyvalue,value){
			this.name=name;
			this.moneyvalue=moneyvalue;
			this.value=value;
		}//commodityvalue
		function character(name,HP,MP,LV,EX,ATK,DEF,AEname,DEname){
			this.name=name;
			this.HP=HP;
			this.MP=MP;
			this.LV=LV;
			this.EX=EX;
			this.UPEX=LV*LV+10;
			this.ATK=ATK+AEname.AH;
			this.DEF=DEF+DEname.DAH;
			this.AE=AEname.name;
			this.DE=DEname.name;
			this.money=100000;
			this.backpackarr=[];
			this.valueout=function(block){
				var cout=block;
				cout.innerHTML+="角色名:"+this.name+"<br>";
				cout.innerHTML+="生命:"+this.HP+"<br>";
				cout.innerHTML+="魔力:"+this.MP+"<br>";
				cout.innerHTML+="LV:"+this.LV+"<br>";
				cout.innerHTML+="EXP:"+this.EX;
				cout.innerHTML+="/"+this.UPEX+"<br>";
				cout.innerHTML+="攻擊力:"+this.ATK+"<br>";
				cout.innerHTML+="防禦力:"+this.DEF+"<br>";
				cout.innerHTML+="武器:"+this.AE+"<br>";
				cout.innerHTML+="防具:"+this.DE+"<br>";
				cout.innerHTML+="錢:"+this.money+"<br>";
				return cout.innerHTML;
			}
			this.backpackarrf=function(block){
				var cout=block;
				
				var i=0;
				while(this.backpackarr[i]){
					cout.innerHTML+=this.backpackarr[i]+"<br>";i++;
				}
				
				return cout.innerHTML;
			}
			this.nameok=function(nameok){
				this.name=nameok;
			}
			this.LVUP=function(){
				this.LV=this.LV+1;
				this.EX=this.EX-this.UPEX;
				this.UPEX=this.LV*this.LV+10;
			}
			this.giveEX=function(giveEXvalue){
				this.EX=this.EX+giveEXvalue;
				while(this.EX/this.UPEX >= 1){
					this.LVUP();
				}
			}
			
		}
		function villageff(){
			var iowindow=document.getElementById("stron");
			iowindow.innerHTML='<div style ="float:top;font-size:50px;background-color:#FFCC00;border:2px orange solid;padding:5px;">'+
			'<div onclick="" style ="float:top;font-size:50px;background-color:#FFFFCC;border:2px orange solid;text-align:center">村長家</div>'+
			'</div>'+
			'<div style ="float:top;font-size:50px;background-color:#FFCC00;border:2px orange solid;padding:5px;">'+
			'<div onclick="market()" style ="float:top;font-size:50px;background-color:#FFFFCC;border:2px orange solid;text-align:center">市場</div>'+
			'</div>';
			
		}
		function market(){
			var iowindow=document.getElementById("stron");
			
			cmdm[0]=rand(commodity[0].moneyvalue);
			cmdm[1]=rand(commodity[1].moneyvalue);
			cmdm[2]=rand(commodity[2].moneyvalue);
			marketout();
		}
		function marketout(){
			var iowindow=document.getElementById("stron");
			
			iowindow.innerHTML=
			'<div style ="float:top;font-size:30px;background-color:#FFCC00">'+
			commodity[0].name+" 市值:"+cmdm[0]+" 庫存:"+commodity[0].value+
			
			'<div onclick="SELL(0)" style ="float:right;font-size:30px;width:30px;height:30px;background-color:#FFFFCC;text-align:center;overflow:visible">賣</div>'+
			'<div onclick="BUY(0)" style ="float:right;font-size:30px;width:30px;height:30px;background-color:#FFFFCC;text-align:center;overflow:visible">買</div>'+
			'<br>'+
			commodity[1].name+" 市值:"+cmdm[1]+" 庫存"+commodity[1].value+
			
			'<div onclick="SELL(1)" style ="float:right;font-size:30px;width:30px;height:30px;background-color:#FFFFCC;text-align:center;overflow:visible">賣</div>'+
			'<div onclick="BUY(1)" style ="float:right;font-size:30px;width:30px;height:30px;background-color:#FFFFCC;text-align:center;overflow:visible">買</div>'+
			'<br>'+
			commodity[2].name+" 市值:"+cmdm[2]+" 庫存"+commodity[2].value+
			
			'<div onclick="SELL(2)" style ="float:right;font-size:30px;width:30px;height:30px;background-color:#FFFFCC;text-align:center;overflow:visible">賣</div>'+
			'<div onclick="BUY(2)" style ="float:right;font-size:30px;width:30px;height:30px;background-color:#FFFFCC;text-align:center;overflow:visible">買</div>'+
			'<br>'+
			'</div>';
		}
		function BUY(thatCM){
			if(j.money > cmdm[thatCM]){
				j.money-=cmdm[thatCM];
				commodity[thatCM].value+=1;
			}
			charactervalueout();
			marketout();
		}
		function SELL(thatCM){
			if(commodity[thatCM].value > 0){
				j.money+=cmdm[thatCM];
				commodity[thatCM].value--;
			}
			charactervalueout();
			marketout();
		}
		
		/*'<input id="BUY" type="button" value="買" style="margin-bottom:5px;font-size:50px">'+
		'<input id="SELL" type="button" value="賣" style="margin-bottom:5px;font-size:50px">'+*/
		
		function explorationf(){
		var iowindow=document.getElementById("stron");
		var im=0;
		iowindow.innerHTML='<p>在森林探險</p><br>';
		iowindow.innerHTML+='<p>遇到了'+monster[im].name+'LV:'+monster[im].LV+'</p><br>';
		}
		
		function housef(){
		var iowindow=document.getElementById("stron");
		iowindow.innerHTML='<div style ="float:top;font-size:50px;background-color:#FFCC00;border:2px orange solid;padding:5px;">'+
			'<div onclick="" style ="float:top;font-size:50px;background-color:#FFFFCC;border:2px orange solid;text-align:center">倉庫</div>'+
			'</div>';
		}
		function backpackf(){
			var iowindow=document.getElementById("stron");
			iowindow.innerHTML='';
			j.backpackarrf(iowindow);
		}
		
		function gamego(){
			gs.innerHTML='輸入你的名子<br>'+
			'<input id="namename" type="text" value="不知名勇者" style="margin-bottom:5px;font-size:50%">'+
			'<div style ="float:top;font-size:50px;background-color:#FFCC00;border:2px orange solid;padding:5px;">'+
			'<div onclick="game()" style ="float:top;font-size:50px;background-color:#FFFFCC;border:2px orange solid;text-align:center">確定</div>'+
			'</div>'+
			'<div style ="float:top;font-size:50px;background-color:#FFCC00;border:2px orange solid;padding:5px;">'+
			'<div onclick="gamereturn()" style ="float:top;font-size:50px;background-color:#FFFFCC;border:2px orange solid;text-align:center">返回</div>'+
			'</div>';
			j.nameok(document.getElementById("namename").value);
		}
		function gametext(){
		
		}
		function serer(){
		}
		
		
		function game(){
			var giveexex=0;
			gs.innerHTML='<div id = "gotobutton" style = "height:100px;width:100%;">'+
			'<input id="village" type="button" value="村莊" style="margin-bottom:5px;font-size:50px">'+
			'<input id="exploration" type="button" value="探險" style="margin-bottom:5px;font-size:50px">'+
			'<input id="house" type="button" value="房屋" style="margin-bottom:5px;font-size:50px">'+
			'<input id="backpack" type="button" value="背包" style="margin-bottom:5px;font-size:50px">'+
			'</div>'+
			'<div id="HI" style="width:50%;margin:0px;float:left;font-size:50px"></div>'+
			'<div id="stron" style="width:50%;float:left;margin:0px;font-size:50px;background-color:yellow"></div>';
			var gotowhere=document.getElementById("gotobutton");
			
			var iowindow=document.getElementById("stron");
			var village =document.getElementById("village");
			var exploration =document.getElementById("exploration");
			var house =document.getElementById("house");
			var backpack=document.getElementById("backpack");
			charactervalueout();
			village.addEventListener( "click", villageff , false );
			exploration.addEventListener( "click", explorationf , false );
			house.addEventListener( "click", housef , false );
			backpack.addEventListener( "click", backpackf , false );
		}
		
		function rand(cmvcmv)
		{
			/*var now=new Date();*/
			var number = Math.random(); 

			var num=cmvcmv*number;
			num=Math.round(num);
			if(num<1)num=1;
			/*(now.getSeconds())%cmvcmv;
			num=num+1;*/
			return num;
		}
		
		function charactervalueout(){
			var koi=document.getElementById("HI");
			koi.innerHTML="";
			koi.innerHTML=j.valueout(koi)+
			'<div style ="float:top;font-size:50px;background-color:#FFCC00;border:2px orange solid;padding:5px;">'+
			'<div onclick="gamereturn()" style ="float:top;font-size:50px;background-color:#FFFFCC;border:2px orange solid;text-align:center">返回</div>'+
			'</div>';
			return false;
		}
		/*function start()
		{
		}*/
		//window.addEventListener( "load", start, false );
		function gamereturn(){
			gs.innerHTML='<div style ="float:bottom;margin:20px;width:50%;left:25%;right:25%;height:100px;text-align:center;">極小RPG</div>'+
			'<div id = "start" onclick="gamego()"   style ="float:bottom;margin:20px;width:50%;left:25%;right:25%;height:100px;text-align:center;">開始遊戲</div>'+
			'<div id = "game" onclick="gametext()"   style ="float:bottom;margin:20px;width:50%;left:25%;right:25%;height:100px;text-align:center;">遊戲說明</div>'+
			'<div id = "start" onclick="serer()"   style ="float:bottom;margin:20px;width:50%;left:25%;right:25%;height:100px;text-align:center;">開發人員</div>'+
			'<div id = "HI"></div>';
		}
	  </script>
   </head>
   <body>
   <form action = "#">
      <div id="gs"style="width:100%";>
			<div style ="float:bottom;margin:20px;width:50%;left:25%;right:25%;height:100px;text-align:center;">極小RPG</div>
			<div id = "start" onclick="gamego()"   style ="float:bottom;margin:20px;width:50%;left:25%;right:25%;height:100px;text-align:center;">開始遊戲</div>
			<div id = "game" onclick="gametext()"   style ="float:bottom;margin:20px;width:50%;left:25%;right:25%;height:100px;text-align:center;">遊戲說明</div>
			<div id = "start" onclick="serer()"  style ="float:bottom;margin:20px;width:50%;left:25%;right:25%;height:100px;text-align:center;">開發人員</div>
			<div id = "HI"></div>
	  </div>
	  
	</form>
   </body>
</html>
<!--
	<!--<div id = "character" style = "height:65px;width:100%;"><h3 style ="text-align:center;"></h3></div>-->
	
	<!--<div id = "gotobutton" style = "height:100px;width:100%;">
		<input id="village" type="button" value="村莊" style="margin-bottom:5px;font-size:50px">
		<input id="exploration" type="button" value="探險" style="margin-bottom:5px;font-size:50px">
		<input id="house" type="button" value="房屋" style="margin-bottom:5px;font-size:50px">
	</div>
	<div id="HI" style="width:50%;margin:0px;float:left;font-size:50px">
	
	</div>
	<div id="stron" style="width:50%;float:left;margin:0px;font-size:50px;background-color:yellow">
	<div>
-->

<!--input id="cccc" type="button" name="我是按鈕" background-color:#FFFFCC;-->